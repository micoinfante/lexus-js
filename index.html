<html>

<head>
	<style>
div {
    overflow: hidden;
}
.arrow-next {
    float: right;
}
.arrow-prev {
	float: left;
}
::-webkit-media-controls {
  display:none !important;
}
video::-webkit-media-controls {
  display:none !important;
}
video::-webkit-media-controls-enclosure {
  display:none !important;
}
	</style>

</head>
<body>
	<div class="">
		<div class="">
			<video id="js-video" preload muted controls="" playsinline autostart="false">
				<source id="normal" src="exterior-360_sp.mp4" type="video/mp4">
			</video>
			<video id="js-video-reverse" preload muted controls="" playsinline style="display:none;">
				<source id="reverse" src="exterior-360_rev.mp4" type="video/mp4" style="display: none;">
			</video>
		<button id="back" class="arrow-prev">&laquo; Previous</button>
		<button id="next" class="arrow-next" >Next &raquo;</button>
		</div>

	</div>
	<script type='text/javascript'>
		  document.addEventListener("DOMContentLoaded", function(event) {
		    console.log("DOM fully loaded and parsed");
		  });
		var video = document.getElementById("js-video");
		var video_reverse = document.getElementById("js-video-reverse");

		var next = document.getElementById("next");
		var back = document.getElementById("back");

		next.addEventListener("click", playNext);
		back.addEventListener("click", playPrev);

		var video_points, video_reverse_points = setup();

		function playNext() {
			back.style.display = "none";
			video_reverse.style.display = "none";

			next.style.display = "block";
			video.style.display = "block";
			video.play();
		}

		function playPrev() {
			back.style.display = "block";
			video_reverse.style.display = "block";

			next.style.display = "none";
			video.style.display = "none";
			video_reverse.play();
		}


		video.addEventListener("timeupdate", function() {
			for (var i = 1; i < video_points.length; i++) {
				if ((video.currentTime >= video_points[i].point) && (video_points[i].status)) {
					video.pause();
					video_points[i].status = false;
				}

			}
		}, false);

		video_reverse.addEventListener("timeupdate", function() {
			for (var i = 1; i < video_points.length; i++) {
				if ((video_reverse.currentTime >= video_reverse_points[i].point) && (video_reverse_points[i].status)) {
					video.pause();
					video_reverse_points[i].status = false;
				}

			}
		}, false);

		video.onended = function() {
			setup();
		};

		video_reverse.onended = function() {
			setup();
		};

		function setup() {
			video_points = [{point: 18.63, status: false},
							{point: 4.33, status: true},
							{point: 7.96, status: true},
							{point: 13.00, status: true},
							{point: 18.03, status: true},
							{point: 18.63, status: true},
							];

			video_reverse_points = [{point: 18.63, status: false},
									{point: 4.33, status: true},
									{point: 7.96, status: true},
									{point: 13.00, status: true},
									{point: 18.03, status: true},
									{point: 18.63, status: true},
									];

			back.style.display = "block";
			video_reverse.style.display = "none";

			next.style.display = "block";
			video.style.display = "block";	
		}
	</script>

</body>

</html>
